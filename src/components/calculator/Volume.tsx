import React from 'react';
import UnitConverter from './UnitConverter';

type Unit = 
  'hl' | 'm3' | 'dm3' | 'cm3' | 'mm3' | 'l' | 'dl' | 'cl' | 'ml' |
  'ft3' | 'in3' | 'yd3' | 'af3' | 'uk_gal' | 'us_gal' | 'uk_fl_oz' | 'us_fl_oz';
const Units: Record<Unit, string> = {
  'hl': 'Hectoliter(hl)',
  'm3': 'Cubic meter(m³)',
  'dm3': 'Cubic decimeter(dm³)',
  'cm3': 'Cubic centimeter(cm³)',
  'mm3': 'Cubic millimeter(mm³)',
  'l': 'Liter(l)',
  'dl': 'Deciliter(dl)',
  'cl': 'Centiliter(cl)',
  'ml': 'Milliliter(ml)',
  'ft3': 'Cubic foot(ft³)',
  'in3': 'Cubic inch(in³)',
  'yd3': 'Cubic yard(yd³)',
  'af3': 'Acre foot(af³)',
  'uk_gal': 'Imperial gallon(uk gal)',
  'us_gal': 'US liquid gallon(us gal)',
  'uk_fl_oz': 'Imperial fluid ounce(uk fl oz)',
  'us_fl_oz': 'US fluid ounce(us fl oz)',
};

const conversionMap: Record<Unit, Record<Unit, number>> = {
 'hl': {
  'hl': 1,
  'm3': 0.1,
  'dm3': 100,
  'cm3': 100000,
  'mm3': 100000000,
  'l': 100,
  'dl': 1000,
  'cl': 10000,
  'ml': 100000,
  'ft3': 3.5314666721489,
  'in3': 61023.744094732,
  'yd3': 0.130795061,
  'af3': 0.000810713,
  'uk_gal': 21.997,
  'us_gal': 26.417,
  'uk_fl_oz': 219.97,
  'us_fl_oz': 264.17,
 },
  'm3': {
    'hl': 10,
    'm3': 1,
    'dm3': 1000,
    'cm3': 1000000,
    'mm3': 1000000000,
    'l': 1000,
    'dl': 10000,
    'cl': 100000,
    'ml': 1000000,
    'ft3': 35.314666721489,
    'in3': 610237.44094732,
    'yd3': 1.30795061,
    'af3': 0.00810713,
    'uk_gal': 219.97,
    'us_gal': 264.17,
    'uk_fl_oz': 2199.7,
    'us_fl_oz': 2641.7,
  },
  'dm3': {
    'hl': 0.01,
    'm3': 0.001,
    'dm3': 1,
    'cm3': 1000,
    'mm3': 1000000,
    'l': 1,
    'dl': 10,
    'cl': 100,
    'ml': 1000,
    'ft3': 0.035314666721489,
    'in3': 61.023744094732,
    'yd3': 0.00130795061,
    'af3': 0.00000810713,
    'uk_gal': 0.21997,
    'us_gal': 0.26417,
    'uk_fl_oz': 2.1997,
    'us_fl_oz': 2.6417,
  },
  'cm3': {
    'hl': 0.00001,
    'm3': 0.000001,
    'dm3': 0.001,
    'cm3': 1,
    'mm3': 1000,
    'l': 0.001,
    'dl': 0.01,
    'cl': 0.1,
    'ml': 1,
    'ft3': 0.000035314666721489,
    'in3': 0.061023744094732,
    'yd3': 0.00000130795061,
    'af3': 0.00000000810713,
    'uk_gal': 0.00021997,
    'us_gal': 0.00026417,
    'uk_fl_oz': 0.0021997,
    'us_fl_oz': 0.0026417,
  },
  'mm3': {
    'hl': 0.00000001,
    'm3': 0.000000001,
    'dm3': 0.000001,
    'cm3': 0.001,
    'mm3': 1,
    'l': 0.000001,
    'dl': 0.00001,
    'cl': 0.0001,
    'ml': 0.001,
    'ft3': 0.000000035314666721489,
    'in3': 0.000061023744094732,
    'yd3': 0.00000000130795061,
    'af3': 0.00000000000810713,
    'uk_gal': 0.00000021997,
    'us_gal': 0.00000026417,
    'uk_fl_oz': 0.0000021997,
    'us_fl_oz': 0.0000026417,
  },
  'l': {
    'hl': 0.01,
    'm3': 0.001,
    'dm3': 1,
    'cm3': 1000,
    'mm3': 1000000,
    'l': 1,
    'dl': 10,
    'cl': 100,
    'ml': 1000,
    'ft3': 0.035314666721489,
    'in3': 61.023744094732,
    'yd3': 0.00130795061,
    'af3': 0.00000810713,
    'uk_gal': 0.21997,
    'us_gal': 0.26417,
    'uk_fl_oz': 2.1997,
    'us_fl_oz': 2.6417,
  },
  'dl': {
    'hl': 0.001,
    'm3': 0.0001,
    'dm3': 0.1,
    'cm3': 100,
    'mm3': 100000,
    'l': 0.1,
    'dl': 1,
    'cl': 10,
    'ml': 100,
    'ft3': 0.0035314666721489,
    'in3': 6.1023744094732,
    'yd3': 0.000130795061,
    'af3': 0.000000810713,
    'uk_gal': 0.021997,
    'us_gal': 0.026417,
    'uk_fl_oz': 0.21997,
    'us_fl_oz': 0.26417,
  },
  'cl': {
    'hl': 0.0001,
    'm3': 0.00001,
    'dm3': 0.01,
    'cm3': 10,
    'mm3': 10000,
    'l': 0.01,
    'dl': 0.1,
    'cl': 1,
    'ml': 10,
    'ft3': 0.00035314666721489,
    'in3': 0.61023744094732,
    'yd3': 0.0000130795061,
    'af3': 0.0000000810713,
    'uk_gal': 0.0021997,
    'us_gal': 0.0026417,
    'uk_fl_oz': 0.021997,
    'us_fl_oz': 0.026417,
  },
  'ml': {
    'hl': 0.00001,
    'm3': 0.000001,
    'dm3': 0.001,
    'cm3': 1,
    'mm3': 1000,
    'l': 0.001,
    'dl': 0.01,
    'cl': 0.1,
    'ml': 1,
    'ft3': 0.000035314666721489,
    'in3': 0.061023744094732,
    'yd3': 0.00000130795061,
    'af3': 0.00000000810713,
    'uk_gal': 0.00021997,
    'us_gal': 0.00026417,
    'uk_fl_oz': 0.0021997,
    'us_fl_oz': 0.0026417,
  },
  'ft3': {
    'hl': 0.28316846592,
    'm3': 0.028316846592,
    'dm3': 28.316846592,
    'cm3': 28316.846592,
    'mm3': 28316846.592,
    'l': 28.316846592,
    'dl': 283.16846592,
    'cl': 2831.6846592,
    'ml': 28316.846592,
    'ft3': 1,
    'in3': 1728,
    'yd3': 0.037037037037037,
    'af3': 0.000228002228,
    'uk_gal': 6.228835459,
    'us_gal': 7.48051948,
    'uk_fl_oz': 62.28835459,
    'us_fl_oz': 74.8051948,
  },
  'in3': {
    'hl': 0.000016387064,
    'm3': 0.0000016387064,
    'dm3': 0.0016387064,
    'cm3': 1.6387064,
    'mm3': 1638.7064,
    'l': 0.0016387064,
    'dl': 0.016387064,
    'cl': 0.16387064,
    'ml': 1.6387064,
    'ft3': 0.0000005787037037037,
    'in3': 1,
    'yd3': 0.000021433470507544,
    'af3': 0.000000132674,
    'uk_gal': 0.0036046501,
    'us_gal': 0.0043290043,
    'uk_fl_oz': 0.036046501,
    'us_fl_oz': 0.043290043,
  },
  'yd3': {
    'hl': 27.0000000000,
    'm3': 0.764554857984,
    'dm3': 764.554857984,
    'cm3': 764554.857984,
    'mm3': 764554857.984,
    'l': 764.554857984,
    'dl': 7645.54857984,
    'cl': 76455.4857984,
    'ml': 764554.857984,
    'ft3': 27,
    'in3': 46656,
    'yd3': 1,
    'af3': 0.006228835459,
    'uk_gal': 201.97402597,
    'us_gal': 202.88413621,
    'uk_fl_oz': 2019.7402597,
    'us_fl_oz': 2028.8413621,
  },
  'af3': {
    'hl': 439.938,
    'm3': 43.9938,
    'dm3': 43993.8,
    'cm3': 43993800,
    'mm3': 43993800000,
    'l': 43993.8,
    'dl': 439938,
    'cl': 4399380,
    'ml': 43993800,
    'ft3': 1550.0031000062,
    'in3': 2688025.433,
    'yd3': 57.87000005787,
    'af3': 1,
    'uk_gal': 272.256,
    'us_gal': 326.000000326,
    'uk_fl_oz': 2722.56,
    'us_fl_oz': 3260.000326,
  },
  'uk_gal': {
    'hl': 4.54609,
    'm3': 0.454609,
    'dm3': 454.609,
    'cm3': 454609,
    'mm3': 454609000,
    'l': 454.609,
    'dl': 4546.09,
    'cl': 45460.9,
    'ml': 454609,
    'ft3': 16.018463,
    'in3': 277.41943279152,
    'yd3': 0.005946061,
    'af3': 0.036743,
    'uk_gal': 1,
    'us_gal': 1.2009499255,
    'uk_fl_oz': 10,
    'us_fl_oz': 11.999499255,
  },
  'us_gal': {
    'hl': 3.785411784,
    'm3': 0.3785411784,
    'dm3': 378.5411784,
    'cm3': 378541.1784,
    'mm3': 378541178.4,
    'l': 378.5411784,
    'dl': 3785.411784,
    'cl': 37854.11784,
    'ml': 378541.1784,
    'ft3': 13.322773572,
    'in3': 230.9999999999999,
    'yd3': 0.0049511316872428,
    'af3': 0.030715,
    'uk_gal': 0.8326741846,
    'us_gal': 1,
    'uk_fl_oz': 8.326741846,
    'us_fl_oz': 9.999999999999999,
  },
  'uk_fl_oz': {
    'hl': 0.0454609,
    'm3': 0.00454609,
    'dm3': 4.54609,
    'cm3': 4546.09,
    'mm3': 4546090,
    'l': 4.54609,
    'dl': 45.4609,
    'cl': 454.609,
    'ml': 4546.09,
    'ft3': 0.16018463,
    'in3': 2.7741943279152,
    'yd3': 0.00005946061,
    'af3': 0.00036743,
    'uk_gal': 0.1,
    'us_gal': 0.11909499255,
    'uk_fl_oz': 1,
    'us_fl_oz': 1.1999499255,
  },
  'us_fl_oz': {
    'hl': 0.03785411784,
    'm3': 0.003785411784,
    'dm3': 3.785411784,
    'cm3': 3785.411784,
    'mm3': 3785411.784,
    'l': 3.785411784,
    'dl': 37.85411784,
    'cl': 378.5411784,
    'ml': 3785.411784,
    'ft3': 0.13322773572,
    'in3': 2.3099999999999996,
    'yd3': 0.000049511316872428,
    'af3': 0.00030715,
    'uk_gal': 0.08326741846,
    'us_gal': 0.09999999999999999,
    'uk_fl_oz': 0.8326741846,
    'us_fl_oz': 1,
  },
};

const Volume = ({ isLandscape } : { isLandscape: boolean}) => {

  const conversionFunction = (from: Unit, to: Unit, value: number): Promise<number> => {
    return new Promise((resolve, reject) => {
      if (from === to) {
        resolve(value);
      }
      else {
        resolve(conversionMap[from][to] * value);
      }
    });
  };

  return (
    <UnitConverter
      defaultFrom='m3'
      defaultTo='hl'
      isLandscape={isLandscape}
      conversionFunction={conversionFunction}
      units={Units}
    />
  )
};

export default Volume;